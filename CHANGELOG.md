# 변경 이력 (Changelog)

이 파일은 키포인트 라벨러의 모든 주요 변경사항을 기록합니다.


## [1.0.0] - 2025-08-12

### 추가된 기능
- DICOM, JPG, PNG 파일 형식 지원
- 마우스 클릭으로 키포인트 추가
- 드래그로 키포인트 이동
- 키보드 화살표 키로 정밀 조정
- 드래그 앤 드롭으로 키포인트 순서 변경
- 키포인트 교환 기능
- 자동 저장 기능
- 폴더 탐색 및 자연 정렬
- DICOM 자동 전처리 (CLAHE)
- 1-based 키포인트 인덱싱
- 라벨 표시/숨김 기능
- PyInstaller 빌드 지원

### 기술적 개선사항
- PyQt5 기반 GUI
- 모듈화된 코드 구조
- 로깅 시스템
- 설정 파일 자동 생성
- 가상환경 최적화된 빌드


## [1.1.0] - 2025-08-14

### 추가된 기능
- **이미지 줌 기능**
  - 마우스 휠 (Ctrl + 휠): 마우스 포인터 중심 줌
  - 키보드 단축키: Ctrl + '+' (줌 인), Ctrl + '-' (줌 아웃), Ctrl + '0' (리셋)
  - 줌 범위: 10% ~ 1000%
  - 줌 레벨에 따른 점 크기 자동 조정
  - 사이드 패널에 줌 레벨 표시 및 컨트롤 버튼

- **이미지 패닝 기능**
  - Alt + 마우스 드래그: 이미지 이동
  - Space + 방향키: 키보드로 이미지 이동
  - Space + Shift + 방향키: 빠른 이동
  - 줌 상태에서 정밀한 이미지 탐색 가능

- **실행 취소 기능**
  - Ctrl + Z: 최대 50단계까지 실행 취소
  - 점 추가, 삭제, 이동 작업 모두 취소 가능
  - 메뉴바의 "실행 취소" 액션 연결

- **우클릭 최근 점 삭제**
  - 마우스 우클릭으로 마지막에 추가된 점 삭제
  - 빠른 실수 수정 가능

- **UI 개선**
  - 사이드 패널에 패닝 사용법 안내 추가
  - 메뉴바의 줌 액션들이 실제로 작동하도록 연결
  - 줌 레벨 실시간 표시 (녹색 강조)

### 기술적 개선사항
- 줌 상태에서 키포인트 선택 영역 자동 조정
- 마우스 포인터 중심 줌 알고리즘 구현
- 패닝 오프셋을 고려한 좌표 변환 시스템
- 줌 변경 시그널 시스템 구현
- 실행 취소 스택 시스템 구현
- 상태 관리 및 복원 시스템

### 버그 수정
- 키보드 단축키 (Ctrl + '+', Ctrl + '-') 작동 안정성 개선
- 줌 후 키포인트 선택 정확도 향상

## [1.1.1] - 2025-09-21

### 버그 수정
- **DICOM 로드 오류 수정**: `float() argument must be a string or a real number, not 'NoneType'` 오류 해결
  - DICOM 메타데이터에서 None 값 처리 개선
  - RescaleSlope, RescaleIntercept, WindowCenter, WindowWidth 등 태그의 안전한 변환
  - PixelSpacing, SeriesNumber, ImageNumber 등의 안전한 처리
  - utils.py의 안전한 변환 함수들을 dicom_loader.py에 적용

### 기술적 개선사항
- 안전한 float/int 변환 함수 추가 (`_safe_float`, `_safe_get_first_value`)
- DICOM 태그 접근 시 예외 처리 강화
- getattr() 사용으로 안전한 메타데이터 접근

## [Unreleased]

### 계획된 기능
- 다크 모드 지원
- 이미지 회전/플립 기능
- 배치 처리 기능
- 데이터 내보내기 기능
- 줌 히스토리 기능

---

## 버전 관리 규칙

이 프로젝트는 [Semantic Versioning](https://semver.org/lang/ko/)을 따릅니다.

- **MAJOR**: 호환되지 않는 API 변경
- **MINOR**: 이전 버전과 호환되는 기능 추가
- **PATCH**: 이전 버전과 호환되는 버그 수정
